$date
	Sun Sep 28 23:33:02 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module des_control_unit_improved_tb $end
$var wire 4 ! state [3:0] $end
$var wire 1 " sel_output $end
$var wire 1 # sel_input $end
$var wire 5 $ round_count [4:0] $end
$var wire 1 % error $end
$var wire 1 & en_sbox $end
$var wire 1 ' en_pbox $end
$var wire 1 ( en_key_schedule $end
$var wire 1 ) en_key_mixing $end
$var wire 1 * en_ip $end
$var wire 1 + en_fp $end
$var wire 1 , en_feistel $end
$var wire 1 - en_expansion $end
$var wire 1 . done $end
$var parameter 4 / DONE_STATE $end
$var parameter 4 0 ERROR_STATE $end
$var parameter 4 1 EXPANSION $end
$var parameter 4 2 FEISTEL $end
$var parameter 4 3 FINAL_PERM $end
$var parameter 4 4 IDLE $end
$var parameter 4 5 INIT_PERM $end
$var parameter 4 6 KEY_MIXING $end
$var parameter 4 7 KEY_SCHEDULE $end
$var parameter 4 8 PBOX $end
$var parameter 4 9 SBOX $end
$var reg 1 : clk $end
$var reg 1 ; data_ready $end
$var reg 1 < key_ready $end
$var reg 1 = rst_n $end
$var reg 1 > start $end
$var integer 32 ? cycle_count [31:0] $end
$scope module dut $end
$var wire 1 : clk $end
$var wire 1 ; data_ready $end
$var wire 1 < key_ready $end
$var wire 1 = rst_n $end
$var wire 1 > start $end
$var parameter 4 @ DONE_STATE $end
$var parameter 4 A ERROR_STATE $end
$var parameter 4 B EXPANSION $end
$var parameter 4 C FEISTEL $end
$var parameter 4 D FINAL_PERM $end
$var parameter 4 E IDLE $end
$var parameter 4 F INIT_PERM $end
$var parameter 4 G KEY_MIXING $end
$var parameter 4 H KEY_SCHEDULE $end
$var parameter 4 I PBOX $end
$var parameter 4 J SBOX $end
$var reg 1 . done $end
$var reg 1 - en_expansion $end
$var reg 1 , en_feistel $end
$var reg 1 + en_fp $end
$var reg 1 * en_ip $end
$var reg 1 ) en_key_mixing $end
$var reg 1 ( en_key_schedule $end
$var reg 1 ' en_pbox $end
$var reg 1 & en_sbox $end
$var reg 1 % error $end
$var reg 5 K next_round [4:0] $end
$var reg 4 L next_state [3:0] $end
$var reg 5 M round_count [4:0] $end
$var reg 1 # sel_input $end
$var reg 1 " sel_output $end
$var reg 4 N state [3:0] $end
$upscope $end
$scope task check_enable $end
$var reg 1 O expected_value $end
$var reg 1 P signal_name $end
$var reg 64 Q signal_str [63:0] $end
$upscope $end
$scope task check_state $end
$var reg 4 R expected_state [3:0] $end
$var reg 64 S state_name [63:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b101 J
b110 I
b10 H
b100 G
b1 F
b0 E
b1000 D
b111 C
b11 B
b1010 A
b1001 @
b101 9
b110 8
b10 7
b100 6
b1 5
b0 4
b1000 3
b111 2
b11 1
b1010 0
b1001 /
$end
#0
$dumpvars
bx S
bx R
bx Q
xP
xO
b0 N
b0 M
b0 L
b0 K
b0 ?
0>
0=
0<
0;
0:
0.
0-
0,
0+
0*
0)
0(
0'
0&
0%
b0 $
1#
0"
b0 !
$end
#5000
1:
#10000
0:
#15000
1:
#20000
0:
1=
#25000
1:
#30000
b1 L
0:
1>
1;
1<
b1001001010001000100110001000101 S
b0 R
#35000
1*
1#
b10 L
b1 !
b1 N
1:
#40000
b10 L
0:
0>
b1 ?
#45000
1(
0#
0*
b11 L
b1 K
b10 !
b10 N
1:
#50000
0:
b110010101101100010111110110100101101110011100000111010101110100 Q
1O
0P
b100111001001001010101000101111101010000010001010101001001001101 S
b1 R
b10 ?
#55000
1-
0(
b100 L
b1 $
b1 M
b11 !
b11 N
1:
#60000
0:
b111001101100011011010000110010101100100011101010110110001100101 Q
b101001101000011010010000100010101000100010101010100110001000101 S
b10 R
b11 ?
#65000
1)
0-
b101 L
b100 !
b100 N
1:
#70000
0:
b111100001110000011000010110111001110011011010010110111101101110 Q
b101100001010000010000010100111001010011010010010100111101001110 S
b11 R
b100 ?
#75000
1&
0)
b110 L
b101 !
b101 N
1:
#80000
0:
b111100101011111011011010110100101111000011010010110111001100111 Q
b101100101011111010011010100100101011000010010010100111001000111 S
b100 R
b101 ?
#85000
1'
0&
b111 L
b110 !
b110 N
1:
#90000
0:
b1100101011011100101111101110011011000100110111101111000 Q
b1010011010000100100111101011000 S
b101 R
b110 ?
#95000
1,
0'
b10 L
b111 !
b111 N
1:
#100000
0:
b1100101011011100101111101110000011000100110111101111000 Q
b1010000010000100100111101011000 S
b110 R
b111 ?
#105000
1(
0,
b11 L
b10 K
b10 !
b10 N
1:
#110000
0:
b101111101100110011001010110100101110011011101000110010101101100 Q
b1000110010001010100100101010011010101000100010101001100 S
b111 R
b1000 ?
#115000
1-
0(
b100 L
b10 $
b10 M
b11 !
b11 N
1:
#120000
0:
b111001101100011011010000110010101100100011101010110110001100101 Q
b101001101000011010010000100010101000100010101010100110001000101 S
b10 R
b1001 ?
#125000
1)
0-
b101 L
b100 !
b100 N
1:
#130000
0:
b1010 ?
#135000
1&
0)
b110 L
b101 !
b101 N
1:
#140000
0:
b1011 ?
#145000
1'
0&
b111 L
b110 !
b110 N
1:
#150000
0:
b1100 ?
#155000
1,
0'
b10 L
b111 !
b111 N
1:
#160000
0:
b1101 ?
#165000
1(
0,
b11 L
b11 K
b10 !
b10 N
1:
#170000
0:
b1110 ?
#175000
1-
0(
b100 L
b11 $
b11 M
b11 !
b11 N
1:
#180000
0:
b1111 ?
#185000
1)
0-
b101 L
b100 !
b100 N
1:
#190000
0:
b10000 ?
#195000
1&
0)
b110 L
b101 !
b101 N
1:
#200000
0:
b10001 ?
#205000
1'
0&
b111 L
b110 !
b110 N
1:
#210000
0:
b10010 ?
#215000
1,
0'
b10 L
b111 !
b111 N
1:
#220000
0:
b10011 ?
#225000
1(
0,
b11 L
b100 K
b10 !
b10 N
1:
#230000
0:
b10100 ?
#235000
1-
0(
b100 L
b100 $
b100 M
b11 !
b11 N
1:
#240000
0:
b10101 ?
#245000
1)
0-
b101 L
b100 !
b100 N
1:
#250000
0:
b10110 ?
#255000
1&
0)
b110 L
b101 !
b101 N
1:
#260000
0:
b10111 ?
#265000
1'
0&
b111 L
b110 !
b110 N
1:
#270000
0:
b11000 ?
#275000
1,
0'
b10 L
b111 !
b111 N
1:
#280000
0:
b11001 ?
#285000
1(
0,
b11 L
b101 K
b10 !
b10 N
1:
#290000
0:
b11010 ?
#295000
1-
0(
b100 L
b101 $
b101 M
b11 !
b11 N
1:
#300000
0:
b11011 ?
#305000
1)
0-
b101 L
b100 !
b100 N
1:
#310000
0:
b11100 ?
#315000
1&
0)
b110 L
b101 !
b101 N
1:
#320000
0:
b11101 ?
#325000
1'
0&
b111 L
b110 !
b110 N
1:
#330000
0:
b11110 ?
#335000
1,
0'
b10 L
b111 !
b111 N
1:
#340000
0:
b11111 ?
#345000
1(
0,
b11 L
b110 K
b10 !
b10 N
1:
#350000
0:
b100000 ?
#355000
1-
0(
b100 L
b110 $
b110 M
b11 !
b11 N
1:
#360000
0:
b100001 ?
#365000
1)
0-
b101 L
b100 !
b100 N
1:
#370000
0:
b100010 ?
#375000
1&
0)
b110 L
b101 !
b101 N
1:
#380000
0:
b100011 ?
#385000
1'
0&
b111 L
b110 !
b110 N
1:
#390000
0:
b100100 ?
#395000
1,
0'
b10 L
b111 !
b111 N
1:
#400000
0:
b100101 ?
#405000
1(
0,
b11 L
b111 K
b10 !
b10 N
1:
#410000
0:
b100110 ?
#415000
1-
0(
b100 L
b111 $
b111 M
b11 !
b11 N
1:
#420000
0:
b100111 ?
#425000
1)
0-
b101 L
b100 !
b100 N
1:
#430000
0:
b101000 ?
#435000
1&
0)
b110 L
b101 !
b101 N
1:
#440000
0:
b101001 ?
#445000
1'
0&
b111 L
b110 !
b110 N
1:
#450000
0:
b101010 ?
#455000
1,
0'
b10 L
b111 !
b111 N
1:
#460000
0:
b101011 ?
#465000
1(
0,
b11 L
b1000 K
b10 !
b10 N
1:
#470000
0:
b101100 ?
#475000
1-
0(
b100 L
b1000 $
b1000 M
b11 !
b11 N
1:
#480000
0:
b101101 ?
#485000
1)
0-
b101 L
b100 !
b100 N
1:
#490000
0:
b101110 ?
#495000
1&
0)
b110 L
b101 !
b101 N
1:
#500000
0:
b101111 ?
#505000
1'
0&
b111 L
b110 !
b110 N
1:
#510000
0:
b110000 ?
#515000
1,
0'
b10 L
b111 !
b111 N
1:
#520000
0:
b110001 ?
#525000
1(
0,
b11 L
b1001 K
b10 !
b10 N
1:
#530000
0:
b110010 ?
#535000
1-
0(
b100 L
b1001 $
b1001 M
b11 !
b11 N
1:
#540000
0:
b110011 ?
#545000
1)
0-
b101 L
b100 !
b100 N
1:
#550000
0:
b110100 ?
#555000
1&
0)
b110 L
b101 !
b101 N
1:
#560000
0:
b110101 ?
#565000
1'
0&
b111 L
b110 !
b110 N
1:
#570000
0:
b110110 ?
#575000
1,
0'
b10 L
b111 !
b111 N
1:
#580000
0:
b110111 ?
#585000
1(
0,
b11 L
b1010 K
b10 !
b10 N
1:
#590000
0:
b111000 ?
#595000
1-
0(
b100 L
b1010 $
b1010 M
b11 !
b11 N
1:
#600000
0:
b111001 ?
#605000
1)
0-
b101 L
b100 !
b100 N
1:
#610000
0:
b111010 ?
#615000
1&
0)
b110 L
b101 !
b101 N
1:
#620000
0:
b111011 ?
#625000
1'
0&
b111 L
b110 !
b110 N
1:
#630000
0:
b111100 ?
#635000
1,
0'
b10 L
b111 !
b111 N
1:
#640000
0:
b111101 ?
#645000
1(
0,
b11 L
b1011 K
b10 !
b10 N
1:
#650000
0:
b111110 ?
#655000
1-
0(
b100 L
b1011 $
b1011 M
b11 !
b11 N
1:
#660000
0:
b111111 ?
#665000
1)
0-
b101 L
b100 !
b100 N
1:
#670000
0:
b1000000 ?
#675000
1&
0)
b110 L
b101 !
b101 N
1:
#680000
0:
b1000001 ?
#685000
1'
0&
b111 L
b110 !
b110 N
1:
#690000
0:
b1000010 ?
#695000
1,
0'
b10 L
b111 !
b111 N
1:
#700000
0:
b1000011 ?
#705000
1(
0,
b11 L
b1100 K
b10 !
b10 N
1:
#710000
0:
b1000100 ?
#715000
1-
0(
b100 L
b1100 $
b1100 M
b11 !
b11 N
1:
#720000
0:
b1000101 ?
#725000
1)
0-
b101 L
b100 !
b100 N
1:
#730000
0:
b1000110 ?
#735000
1&
0)
b110 L
b101 !
b101 N
1:
#740000
0:
b1000111 ?
#745000
1'
0&
b111 L
b110 !
b110 N
1:
#750000
0:
b1001000 ?
#755000
1,
0'
b10 L
b111 !
b111 N
1:
#760000
0:
b1001001 ?
#765000
1(
0,
b11 L
b1101 K
b10 !
b10 N
1:
#770000
0:
b1001010 ?
#775000
1-
0(
b100 L
b1101 $
b1101 M
b11 !
b11 N
1:
#780000
0:
b1001011 ?
#785000
1)
0-
b101 L
b100 !
b100 N
1:
#790000
0:
b1001100 ?
#795000
1&
0)
b110 L
b101 !
b101 N
1:
#800000
0:
b1001101 ?
#805000
1'
0&
b111 L
b110 !
b110 N
1:
#810000
0:
b1001110 ?
#815000
1,
0'
b10 L
b111 !
b111 N
1:
#820000
0:
b1001111 ?
#825000
1(
0,
b11 L
b1110 K
b10 !
b10 N
1:
#830000
0:
b1010000 ?
#835000
1-
0(
b100 L
b1110 $
b1110 M
b11 !
b11 N
1:
#840000
0:
b1010001 ?
#845000
1)
0-
b101 L
b100 !
b100 N
1:
#850000
0:
b1010010 ?
#855000
1&
0)
b110 L
b101 !
b101 N
1:
#860000
0:
b1010011 ?
#865000
1'
0&
b111 L
b110 !
b110 N
1:
#870000
0:
b1010100 ?
#875000
1,
0'
b10 L
b111 !
b111 N
1:
#880000
0:
b1010101 ?
#885000
1(
0,
b11 L
b1111 K
b10 !
b10 N
1:
#890000
0:
b1010110 ?
#895000
1-
0(
b100 L
b1111 $
b1111 M
b11 !
b11 N
1:
#900000
0:
b1010111 ?
#905000
1)
0-
b101 L
b100 !
b100 N
1:
#910000
0:
b1011000 ?
#915000
1&
0)
b110 L
b101 !
b101 N
1:
#920000
0:
b1011001 ?
#925000
1'
0&
b111 L
b110 !
b110 N
1:
#930000
0:
b1011010 ?
#935000
1,
0'
b10 L
b111 !
b111 N
1:
#940000
0:
b1011011 ?
#945000
1(
0,
b11 L
b10000 K
b10 !
b10 N
1:
#950000
0:
b1011100 ?
#955000
1-
0(
b100 L
b10000 $
b10000 M
b11 !
b11 N
1:
#960000
0:
b1011101 ?
#965000
1)
0-
b101 L
b100 !
b100 N
1:
#970000
0:
b1011110 ?
#975000
1&
0)
b110 L
b101 !
b101 N
1:
#980000
0:
b1011111 ?
#985000
1'
0&
b111 L
b110 !
b110 N
1:
#990000
0:
b1100000 ?
#995000
1,
0'
b1000 L
b111 !
b111 N
1:
#1000000
0:
b1100001 ?
#1005000
1+
0,
b1001 L
b1000 !
b1000 N
1:
#1010000
0:
b1100010 ?
#1015000
1"
1.
0+
b0 L
b1001 !
b1001 N
1:
#1020000
0:
b1100011 ?
#1025000
1#
0"
0.
b0 !
b0 N
1:
#1030000
0:
b1100100 ?
#1035000
1:
#1040000
0:
b1100101 ?
#1045000
1:
#1050000
0:
b1100110 ?
#1055000
1:
#1060000
0:
b1100111 ?
#1065000
1:
#1070000
0:
b1101000 ?
#1075000
1:
#1080000
0:
b1101001 ?
#1085000
1:
#1090000
0:
b1101010 ?
#1095000
1:
#1100000
0:
b1101011 ?
#1105000
1:
#1110000
0:
b1101100 ?
#1115000
1:
#1120000
0:
b1101101 ?
#1125000
1:
#1130000
0:
b1101110 ?
#1135000
1:
#1140000
0:
b1101111 ?
#1145000
1:
#1150000
0:
b1110000 ?
#1155000
1:
#1160000
0:
b1110001 ?
#1165000
1:
#1170000
0:
b1110010 ?
#1175000
1:
#1180000
0:
b110010101101110010111110110011001110000 Q
b100111001000001010011000101111101010000010001010101001001001101 S
b1000 R
b1110011 ?
#1185000
1:
#1190000
0:
b110110001011111011011110111010101110100011100000111010101110100 Q
b1000100010011110100111001000101 S
b1001 R
b1110100 ?
#1195000
1:
#1200000
0:
b1110101 ?
#1205000
1:
#1210000
b1010 L
0:
1>
0<
b1001001010001000100110001000101 S
b0 R
b1110110 ?
#1215000
1%
0#
b1010 !
b1010 N
1:
#1220000
b0 L
0:
1<
b110010101110010011100100110111101110010 Q
1P
b100010101010010010100100100111101010010 S
b1010 R
b1110111 ?
#1225000
1#
0%
b0 K
b1 L
b0 !
b0 N
1:
#1230000
0:
b1001001010001000100110001000101 S
b0 R
b1111000 ?
#1235000
1*
1#
b10 L
b0 $
b0 M
b1 !
b1 N
1:
#1240000
0:
#1245000
1(
0#
0*
b11 L
b1 K
b10 !
b10 N
1:
#1250000
0:
